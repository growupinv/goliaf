import{d as S,r as s,a1 as T,c as z,g as i,m as V,w as u,e as l,f as e,M as B,L as d,K as n,b as f,F as b,az as D,T as N,S as y,q as A,k as F,s as U,N as I,_ as H}from"./index-ff671c6d.js";const q=S({__name:"ActionsEditDrawer",props:{visible:{type:Boolean},step:null},emits:["update:visible","close","save"],setup(_,{emit:m}){const w=_,o=s({...w.step});T(()=>w.step,E=>{o.value={...E}},{deep:!0});const g=z(()=>`Редактировать: ${o.value.title}`),c=()=>{m("update:visible",!1),m("close")},C=()=>{m("save",o.value)},p=s({fileType:"",maxFileSize:0}),k=s({duration:0}),r=s({percentage:0,time:""}),v=s({message:"",recipients:[]}),x=s({scriptContent:""});return(E,a)=>(i(),V(e(I),{"model-value":_.visible,"onUpdate:modelValue":a[11]||(a[11]=t=>m("update:visible",t)),title:e(g),direction:"btt",size:"50%","before-close":c},{default:u(()=>[l(e(B),{model:o.value,"label-width":"120px"},{default:u(()=>[l(e(d),{label:"Название"},{default:u(()=>[l(e(n),{modelValue:o.value.title,"onUpdate:modelValue":a[0]||(a[0]=t=>o.value.title=t)},null,8,["modelValue"])]),_:1}),l(e(d),{label:"Тип"},{default:u(()=>[l(e(n),{"model-value":o.value.type,disabled:""},null,8,["model-value"])]),_:1}),o.value.type==="upload"?(i(),f(b,{key:0},[l(e(d),{label:"Тип файла"},{default:u(()=>[l(e(n),{modelValue:p.value.fileType,"onUpdate:modelValue":a[1]||(a[1]=t=>p.value.fileType=t)},null,8,["modelValue"])]),_:1}),l(e(d),{label:"Максимальный размер файла (МБ)"},{default:u(()=>[l(e(n),{modelValue:p.value.maxFileSize,"onUpdate:modelValue":a[2]||(a[2]=t=>p.value.maxFileSize=t),type:"number"},null,8,["modelValue"])]),_:1})],64)):o.value.type==="wait"?(i(),V(e(d),{key:1,label:"Длительность (минуты)"},{default:u(()=>[l(e(n),{modelValue:k.value.duration,"onUpdate:modelValue":a[3]||(a[3]=t=>k.value.duration=t),type:"number"},null,8,["modelValue"])]),_:1})):o.value.type==="price_up"||o.value.type==="price_down"?(i(),f(b,{key:2},[l(e(d),{label:"Процент изменения"},{default:u(()=>[l(e(n),{modelValue:r.value.percentage,"onUpdate:modelValue":a[4]||(a[4]=t=>r.value.percentage=t),type:"number"},null,8,["modelValue"])]),_:1}),l(e(d),{label:"Время"},{default:u(()=>[l(e(D),{modelValue:r.value.time,"onUpdate:modelValue":a[5]||(a[5]=t=>r.value.time=t),format:"HH:mm"},null,8,["modelValue"])]),_:1})],64)):o.value.type==="notify"?(i(),f(b,{key:3},[l(e(d),{label:"Сообщение"},{default:u(()=>[l(e(n),{modelValue:v.value.message,"onUpdate:modelValue":a[6]||(a[6]=t=>v.value.message=t),type:"textarea"},null,8,["modelValue"])]),_:1}),l(e(d),{label:"Получатели"},{default:u(()=>[l(e(N),{modelValue:v.value.recipients,"onUpdate:modelValue":a[7]||(a[7]=t=>v.value.recipients=t),multiple:""},{default:u(()=>[l(e(y),{label:"Админ",value:"admin"}),l(e(y),{label:"Менеджер",value:"manager"}),l(e(y),{label:"Пользователь",value:"user"})]),_:1},8,["modelValue"])]),_:1})],64)):o.value.type==="script"?(i(),V(e(d),{key:4,label:"Содержание скрипта"},{default:u(()=>[l(e(n),{modelValue:x.value.scriptContent,"onUpdate:modelValue":a[8]||(a[8]=t=>x.value.scriptContent=t),type:"textarea",rows:"5"},null,8,["modelValue"])]),_:1})):A("",!0),l(e(d),{label:"Иконка"},{default:u(()=>[l(e(n),{modelValue:o.value.icon,"onUpdate:modelValue":a[9]||(a[9]=t=>o.value.icon=t)},null,8,["modelValue"])]),_:1}),l(e(d),{label:"Цвет"},{default:u(()=>[l(e(n),{modelValue:o.value.color,"onUpdate:modelValue":a[10]||(a[10]=t=>o.value.color=t)},null,8,["modelValue"])]),_:1}),l(e(d),null,{default:u(()=>[l(e(F),{type:"primary",onClick:C},{default:u(()=>[U("Сохранить")]),_:1}),l(e(F),{onClick:c},{default:u(()=>[U("Отмена")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value","title"]))}});const L=H(q,[["__scopeId","data-v-d3976b0d"]]);export{L as default};
