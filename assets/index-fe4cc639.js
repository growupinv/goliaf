import{d as j,r as p,c as z,g as E,b as G,e as a,w as l,P as K,s as m,h as n,t as v,m as L,q as Q,f as W,v as f,Q as X,R as Y,S as H,T as J,L as Z,K as ee,U as ae,V as le,W as te,X as oe,k as ue,M as ne,z as se,Y as de,O as re,A as pe,B as me,_ as ie}from"./index-ff671c6d.js";/* empty css               *//* empty css             *//* empty css             *//* empty css                  *//* empty css              *//* empty css               *//* empty css                 *//* empty css                *//* empty css               *//* empty css            *//* empty css               *//* empty css              */import{N as ce}from"./NavBar-fa151205.js";const h=i=>(pe("data-v-0dbcd9a6"),i=i(),me(),i),_e={style:{width:"100%","justify-content":"space-around",display:"flex","flex-direction":"column","align-items":"center"}},ve=h(()=>n("p",null,"Диапазон остатков:",-1)),fe={class:"range-display"},ye=h(()=>n("br",null,null,-1)),be={class:"dialog-footer"},ge=j({__name:"index",setup(i){const s=p("byName"),u=p("update"),e=p({warehouse:"",productName:"",range:[0,1e3],quantity:0}),d=p(!1),y=p(""),g=z(()=>e.value.warehouse!==""&&(s.value==="byName"?e.value.productName!=="":!0)&&(u.value==="update"?e.value.quantity>0:!0)),$=()=>{if(g.value){const r=u.value==="update"?"обновить":"обнулить";s.value==="byName"?y.value=`Вы уверены, что хотите ${r} остатки товара "${e.value.productName}" на складе "${e.value.warehouse}"${u.value==="update"?` на ${e.value.quantity}`:""}?`:y.value=`Вы уверены, что хотите ${r} все остатки на складе "${e.value.warehouse}" в диапазоне от ${e.value.range[0]} до ${e.value.range[1]}${u.value==="update"?` на ${e.value.quantity}`:""}?`,d.value=!0}},x=r=>{r()},q=()=>{s.value==="byName"?u.value==="update"?I():k():u.value==="update"?B():S(),d.value=!1},I=()=>{console.log(`Обновление остатков товара: ${e.value.productName} на ${e.value.quantity} на складе ${e.value.warehouse}`),f.success(`Остатки товара "${e.value.productName}" на складе "${e.value.warehouse}" успешно обновлены на ${e.value.quantity}`),c()},k=()=>{console.log(`Обнуление остатков товара: ${e.value.productName} на складе ${e.value.warehouse}`),f.success(`Остатки товара "${e.value.productName}" на складе "${e.value.warehouse}" успешно обнулены`),c()},B=()=>{console.log("Обновление всех остатков",e.value),f.success(`Остатки на складе "${e.value.warehouse}" в диапазоне от ${e.value.range[0]} до ${e.value.range[1]} успешно обновлены на ${e.value.quantity}`),c()},S=()=>{console.log("Обнуление всех остатков",e.value),f.success(`Остатки на складе "${e.value.warehouse}" в диапазоне от ${e.value.range[0]} до ${e.value.range[1]} успешно обнулены`),c()},c=()=>{e.value={warehouse:"",productName:"",range:[0,1e3],quantity:0}};return(r,t)=>{const V=X,C=Y,N=H,U=J,_=Z,T=ee,w=ae,A=le,M=te,F=oe,b=ue,R=ne,D=se,O=de,P=re;return E(),G("div",_e,[a(ce,{title:"Управление остатками"}),a(O,null,{default:l(()=>[a(D,{class:"reset-card w-80"},{default:l(()=>[a(R,{model:e.value,onSubmit:K($,["prevent"])},{default:l(()=>[a(_,null,{default:l(()=>[a(C,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=o=>u.value=o),class:"mb-3"},{default:l(()=>[a(V,{label:"update"},{default:l(()=>[m("Обновить")]),_:1}),a(V,{label:"reset"},{default:l(()=>[m("Обнулить")]),_:1})]),_:1},8,["modelValue"]),a(U,{modelValue:e.value.warehouse,"onUpdate:modelValue":t[1]||(t[1]=o=>e.value.warehouse=o),placeholder:"Выберите склад"},{default:l(()=>[a(N,{label:"Санкт-Петербург",value:"spb"}),a(N,{label:"Москва",value:"msk"})]),_:1},8,["modelValue"])]),_:1}),a(M,{modelValue:s.value,"onUpdate:modelValue":t[4]||(t[4]=o=>s.value=o)},{default:l(()=>[a(w,{label:"По названию",name:"byName"},{default:l(()=>[a(_,null,{default:l(()=>[a(T,{modelValue:e.value.productName,"onUpdate:modelValue":t[2]||(t[2]=o=>e.value.productName=o),placeholder:"Введите название товара"},null,8,["modelValue"])]),_:1})]),_:1}),a(w,{label:"Все остатки",name:"all"},{default:l(()=>[a(_,null,{default:l(()=>[ve,a(A,{modelValue:e.value.range,"onUpdate:modelValue":t[3]||(t[3]=o=>e.value.range=o),range:"",min:0,max:1e3,step:1},null,8,["modelValue"]),n("div",fe,[n("span",null,"От: "+v(e.value.range[0]),1),ye,n("span",null,"До: "+v(e.value.range[1]),1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),u.value==="update"?(E(),L(_,{key:0},{default:l(()=>[a(F,{modelValue:e.value.quantity,"onUpdate:modelValue":t[5]||(t[5]=o=>e.value.quantity=o),min:0,placeholder:"Новое количество"},null,8,["modelValue"])]),_:1})):Q("",!0),a(b,{type:u.value==="update"?"primary":"danger",class:"full-width-button",onClick:$,disabled:!W(g)},{default:l(()=>[m(v(u.value==="update"?"Обновить":"Обнулить"),1)]),_:1},8,["type","disabled"])]),_:1},8,["model","onSubmit"])]),_:1})]),_:1}),a(P,{modelValue:d.value,"onUpdate:modelValue":t[7]||(t[7]=o=>d.value=o),title:"Подтверждение",width:"80%","before-close":x},{footer:l(()=>[n("span",be,[a(b,{onClick:t[6]||(t[6]=o=>d.value=!1)},{default:l(()=>[m("Отмена")]),_:1}),a(b,{type:"primary",onClick:q},{default:l(()=>[m("Подтвердить")]),_:1})])]),default:l(()=>[n("span",null,v(y.value),1)]),_:1},8,["modelValue"])])}}});const Te=ie(ge,[["__scopeId","data-v-0dbcd9a6"]]);export{Te as default};
