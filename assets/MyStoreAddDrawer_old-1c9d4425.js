import{d as L,a as P,u as Q,r as u,G as W,c as G,H as S,g as M,b as z,e,w as t,f as s,s as r,h as T,t as J,q as K,F as O,k as j,I as X,i as Y,J as Z,K as h,L as ee,M as te,N as oe,O as ne,A as le,B as ae,_ as se}from"./index-ff671c6d.js";/* empty css               *//* empty css                  *//* empty css              *//* empty css                *//* empty css               *//* empty css               */import{u as g}from"./useValidateToken-f048730e.js";import{tokenDescriptions as _}from"./token-descriptions-1961fc49.js";const re=y=>(le("data-v-331d25db"),y=y(),ae(),y),ie=re(()=>T("span",null,"Добавление магазина",-1)),de={key:0},ue={style:{color:"#2e865f","font-size":"12px"}},me={class:"dialog-footer"},ce=["innerHTML"],pe={class:"dialog-footer"},fe=L({__name:"MyStoreAddDrawer_old",setup(y){P();const v=Q(),x=u(null),V=u(!1),l=W({storeName:"",contentToken:"",marketplaceToken:"",pricesDiscountsToken:"",analyticsToken:"",recommendationsToken:""}),w=u(null),b=u(null),D=u(null),E=u(null),c=u(null),C=u(!1),N={storeName:[{required:!0,message:"Введите имя магазина",trigger:"blur"}],contentToken:[{required:!0,message:"Введите Content Token",trigger:"blur"},{validator:async(i,o,a)=>{w.value=await g(l.contentToken,"Content","en"),await w.value.validateToken(),w.value.isValid?(console.log("ВАЛИДНЫЙ"),a()):a(new Error("Невалидный токен"))},trigger:"blur"}],marketplaceToken:[{required:!0,message:"Введите Marketplace Token",trigger:"blur"},{validator:async(i,o,a)=>{D.value=await g(l.marketplaceToken,"Marketplace","en"),await D.value.validateToken(),D.value.isValid?(console.log("ВАЛИДНЫЙ"),a()):a(new Error("Невалидный токен"))},trigger:"blur"}],pricesDiscountsToken:[{required:!0,message:"Введите Prices & Discounts Token",trigger:"blur"},{validator:async(i,o,a)=>{E.value=await g(l.pricesDiscountsToken,"Prices and discounts","en"),await E.value.validateToken(),E.value.isValid?(console.log("ВАЛИДНЫЙ"),a()):a(new Error("Невалидный токен"))},trigger:"blur"}],analyticsToken:[{required:!0,message:"Введите Analytics Token",trigger:"blur"},{validator:async(i,o,a)=>{b.value=await g(l.analyticsToken,"Analytics","en"),await b.value.validateToken(),b.value.isValid?(console.log("ВАЛИДНЫЙ"),a()):a(new Error("Невалидный токен"))},trigger:"blur"}],recommendationsToken:[{required:!0,message:"Введите Recommendations Token",trigger:"blur"},{validator:async(i,o,a)=>{c.value=await g(l.recommendationsToken,"Recommendations","en"),await c.value.validateToken(),c.value.isValid?(console.log("ВАЛИДНЫЙ"),a(),C.value=!0):(a(new Error("Невалидный токен")),C.value=!1)},trigger:"blur"}]},U=G(()=>c.value?c.value.tokentimeEnd:null),F=i=>{i.validate(async o=>{o?w.value.isValid&&b.value.isValid&&D.value.isValid&&E.value.isValid&&c.value.isValid?(console.log("Все токены валидны"),v.SetMyStores(l)):console.log("Ошибка отправки формы: один или несколько токенов неверны"):console.log("Ошибка отправки формы")})},A=i=>{i.resetFields()};return(i,o)=>{const a=j,I=X,m=S("Warning"),d=Y,p=Z,f=h,k=ee,R=te,q=S("Upload"),$=S("QuestionFilled"),B=oe,H=ne;return M(),z(O,null,[e(I,{icon:"info",title:"Добавьте магазин"},{"sub-title":t(()=>[]),extra:t(()=>[e(a,{class:"w50 ml-6 mr6",size:"large",type:"primary",onClick:o[0]||(o[0]=n=>s(v).addDrawer=!0)},{default:t(()=>[r(" Добавить ")]),_:1})]),_:1}),e(B,{modelValue:s(v).addDrawer,"onUpdate:modelValue":o[12]||(o[12]=n=>s(v).addDrawer=n),direction:"btt",size:"100%"},{header:t(()=>[ie]),footer:t(()=>[T("span",me,[e(a,{type:"primary",onClick:o[9]||(o[9]=n=>F(x.value)),loading:s(v).loading},{default:t(()=>[r(" Сохранить "),e(d,{class:"el-icon--right"},{default:t(()=>[e(q)]),_:1})]),_:1},8,["loading"]),e(a,{onClick:o[10]||(o[10]=n=>A(x.value))},{default:t(()=>[r(" Reset ")]),_:1}),e(a,{plain:"",onClick:o[11]||(o[11]=n=>V.value=!0)},{default:t(()=>[e(d,null,{default:t(()=>[e($)]),_:1})]),_:1})])]),default:t(()=>[e(R,{model:l,ref_key:"formRef",ref:x,rules:N,"label-position":"top"},{default:t(()=>[e(k,{prop:"storeName"},{label:t(()=>[r(" Имя магазина "),e(p,{effect:"dark",content:"Название необходимо для магазина",placement:"bottom"},{default:t(()=>[e(d,{style:{"margin-left":"4px"},size:12},{default:t(()=>[e(m)]),_:1})]),_:1})]),default:t(()=>[e(f,{modelValue:l.storeName,"onUpdate:modelValue":o[1]||(o[1]=n=>l.storeName=n),clearable:"",autocomplete:"off",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(k,{prop:"contentToken"},{label:t(()=>[r(" Content Token "),e(p,{"raw-content":"",effect:"dark",content:s(_).contentToken.content,placement:"bottom"},{default:t(()=>[e(d,{style:{"margin-left":"4px"},size:12},{default:t(()=>[e(m)]),_:1})]),_:1},8,["content"])]),default:t(()=>[e(f,{modelValue:l.contentToken,"onUpdate:modelValue":o[2]||(o[2]=n=>l.contentToken=n),clearable:"",autocomplete:"off",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(k,{prop:"marketplaceToken"},{label:t(()=>[r(" Marketplace Token "),e(p,{"raw-content":"",effect:"dark",content:s(_).marketplaceToken.content,placement:"bottom"},{default:t(()=>[e(d,{style:{"margin-left":"4px"},size:12},{default:t(()=>[e(m)]),_:1})]),_:1},8,["content"])]),default:t(()=>[e(f,{modelValue:l.marketplaceToken,"onUpdate:modelValue":o[3]||(o[3]=n=>l.marketplaceToken=n),clearable:"",autocomplete:"off",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(k,{prop:"pricesDiscountsToken"},{label:t(()=>[r(" Prices & Discounts Token "),e(p,{"raw-content":"",effect:"dark",content:s(_).pricesDiscountsToken.content,placement:"bottom"},{default:t(()=>[e(d,{style:{"margin-left":"4px"},size:12},{default:t(()=>[e(m)]),_:1})]),_:1},8,["content"])]),default:t(()=>[e(f,{modelValue:l.pricesDiscountsToken,"onUpdate:modelValue":o[4]||(o[4]=n=>l.pricesDiscountsToken=n),clearable:"",autocomplete:"off",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(k,{prop:"analyticsToken"},{label:t(()=>[r(" Analytics Token "),e(p,{"raw-content":"",effect:"dark",content:s(_).analyticsToken.content,placement:"bottom"},{default:t(()=>[e(d,{style:{"margin-left":"4px"},size:12},{default:t(()=>[e(m)]),_:1})]),_:1},8,["content"])]),default:t(()=>[e(f,{modelValue:l.analyticsToken,"onUpdate:modelValue":o[5]||(o[5]=n=>l.analyticsToken=n),onClear:o[6]||(o[6]=n=>l.analyticsToken=""),clearable:"",autocomplete:"off",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(k,{prop:"recommendationsToken"},{label:t(()=>[r(" Recommendations Token "),e(p,{"raw-content":"",effect:"dark",content:s(_).recommendationsToken.content,placement:"top"},{default:t(()=>[e(d,{style:{"margin-left":"4px"},size:12},{default:t(()=>[e(m)]),_:1})]),_:1},8,["content"])]),default:t(()=>[e(f,{modelValue:l.recommendationsToken,"onUpdate:modelValue":o[7]||(o[7]=n=>l.recommendationsToken=n),onClear:o[8]||(o[8]=n=>l.recommendationsToken=""),clearable:"",autocomplete:"off",style:{width:"100%"}},{prepend:t(()=>[e(d,{style:{"margin-left":"4px"},size:12},{default:t(()=>[e(m)]),_:1})]),_:1},8,["modelValue"]),C.value?(M(),z("div",de,[T("p",ue," Годен до: "+J(s(U)),1)])):K("",!0)]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(H,{modelValue:V.value,"onUpdate:modelValue":o[14]||(o[14]=n=>V.value=n),title:"Памятка",width:"500","align-center":""},{footer:t(()=>[T("div",pe,[e(a,{type:"primary",onClick:o[13]||(o[13]=n=>V.value=!1)},{default:t(()=>[r(" Понятно ")]),_:1})])]),default:t(()=>[T("div",{innerHTML:s(_).headline_content,style:{"text-align":"left"}},null,8,ce)]),_:1},8,["modelValue"])],64)}}});const De=se(fe,[["__scopeId","data-v-331d25db"]]);export{De as default};
