import{d as Z,n as ee,r,o as te,ap as se,c as b,g as u,b as C,e,w as t,h as o,f as a,ai as S,q as z,a2 as le,m as I,aj as ae,t as _,F as L,l as oe,ac as ne,E as ce,aq as ie,k as re,K as de,aa as ue,ab as _e,N as pe,ar as fe,D as me,C as ve,as as ke,Y as he,at as ye,au as ge,A as we,B as xe,_ as be}from"./index-ff671c6d.js";/* empty css             *//* empty css                     *//* empty css            *//* empty css             *//* empty css              */import{usePartnerProducts as Ce}from"./UsePartnerProducts-5c5424cb.js";const i=p=>(we("data-v-a5710e55"),p=p(),xe(),p),Se={class:"header-container"},Ee={key:0},Ve={class:"d-flex flex-column justify-content-center"},Ne={style:{flex:"auto"}},Be=i(()=>o("span",null,"ДАЛЕЕ",-1)),Pe=i(()=>o("span",null,"СБРОСИТЬ",-1)),ze={class:"search-bar flex"},Ie={class:"statistic-card"},Le=i(()=>o("div",{style:{display:"inline-flex","align-items":"center"}},"Товаров",-1)),Re={class:"statistic-card"},Ke=i(()=>o("div",{style:{display:"inline-flex","align-items":"center"}},"Спб",-1)),Ue=i(()=>o("div",{style:{display:"inline-flex","align-items":"center"}}," Наличие ",-1)),je={class:"statistic-card"},De=i(()=>o("div",{style:{display:"inline-flex","align-items":"center"}},"Мск",-1)),Qe=i(()=>o("div",{style:{height:"100%",width:"100%","background-color":"var(--el-bg-color-overlay)","box-shadow":"var(--el-box-shadow-lighter)","text-align":"center","line-height":"40px",color:"#1989fa"}}," UP ",-1)),$e=Z({__name:"index",setup(p){ee();const h=r(!1),d=r([]);te(async()=>{try{const s=await se.get("/partner_products");d.value=s.data}catch(s){console.error(s)}});const E=r(!0),V=b(()=>({msk:d.value.filter(s=>s.product_sklad==="мск").length,spb:d.value.filter(s=>s.product_sklad==="спб").length})),R=b(()=>d.value.filter(s=>s.product_stock).length),K=(s,l)=>{if(s==="true")return l.product_stock;if(s==="false")return!l.product_stock;{const c=s.toLowerCase();return l.product_name.toLowerCase().includes(c)||l.product_price.toString().includes(c)||l.product_sklad.toLowerCase().includes(c)||l.product_stock.toString().toLowerCase().includes(c)}},U=b(()=>d.value.filter(s=>K(f.value,s))),f=r(""),j=()=>{f.value="true"},D=({row:s})=>{const l=s.product_stock?"success-row":"error-row";return console.log("Row data:",s,"Returned class:",l),l};E.value=!1;const Q=[{key:"product_name",dataKey:"product_name",title:"Название",width:200},{key:"product_price",dataKey:"product_price",title:"Цена",width:150},{key:"product_sklad",dataKey:"product_sklad",title:"Склад",width:150},{key:"product_stock",dataKey:"product_stock",title:"Наличие",width:150}],m=r(!1),{searchQueryCatButtons:y,filters:qe,filteredCategories:$,totalProducts:N,totalSelectedProducts:q,toggleSelection:A,resetSelection:F,categories:M,selectAllCategories:T}=Ce(),g=r(0),Y=()=>{g.value++>2&&(g.value=0)};return(s,l)=>{const c=re,B=de,w=ue,G=_e,H=pe,v=fe,k=me,x=ve,J=ke,O=he,W=ye,X=ge;return u(),C(L,null,[e(H,{modelValue:h.value,"onUpdate:modelValue":l[2]||(l[2]=n=>h.value=n),direction:"btt",size:"100%"},{header:t(()=>[o("div",Se,[e(c,{class:"mr-2",icon:a(S),circle:"",onClick:l[0]||(l[0]=n=>m.value=!m.value)},null,8,["icon"]),m.value?z("",!0):(u(),C("span",Ee,"КАТЕГОРИИ RESELLUP")),e(le,{name:"slide-fade",mode:"out-in",duration:300,appear:""},{default:t(()=>[m.value?(u(),I(B,{key:0,modelValue:a(y),"onUpdate:modelValue":l[1]||(l[1]=n=>ae(y)?y.value=n:null),size:"large",placeholder:"Поиск категорий","suffix-icon":a(S)},null,8,["modelValue","suffix-icon"])):z("",!0)]),_:1})])]),footer:t(()=>[o("div",Ne,[e(c,{type:"default",plain:"",size:"large",style:{display:"block",width:"100%","margin-left":"0px"},onClick:a(T)},{default:t(()=>[o("span",null,"Выбрано "+_(a(q))+" / "+_(a(N)),1)]),_:1},8,["onClick"]),e(c,{type:"success",plain:"",size:"large",style:{display:"block",width:"100%","margin-left":"0px"},onClick:Y},{default:t(()=>[Be]),_:1}),e(c,{type:"danger",plain:"",size:"large",style:{display:"block",width:"100%","margin-left":"0px"},onClick:a(F)},{default:t(()=>[Pe]),_:1},8,["onClick"])])]),default:t(()=>[o("div",Ve,[e(G,{class:"mb-2","align-center":"",style:{"max-width":"600px"},active:g.value,"finish-status":"success"},{default:t(()=>[e(w,{title:"Step 1"}),e(w,{title:"Step 2"}),e(w,{title:"Step 3"})]),_:1},8,["active"]),(u(!0),C(L,null,oe(a($),(n,P)=>(u(),I(c,{key:P,class:ne({"mb-2":P!==a(M).length-1,"is-plain":!s.selectedCategories[n.Name]}),type:s.selectedCategories[n.Name]?"success":"info",size:"large",style:{display:"block",width:"100%","margin-left":"0px"},onClick:Ae=>a(A)(n)},{default:t(()=>[o("span",null,_(n.QntProducts)+" : "+_(n.Name),1)]),_:2},1032,["class","type","onClick"]))),128))])]),_:1},8,["modelValue"]),e(O,null,{default:t(()=>[e(a(ce),{loading:E.value,rows:5,throttle:800,animated:"",class:"m-2 w-100"},{default:t(()=>[e(x,{gutter:20,justify:"center"},{default:t(()=>[o("div",ze,[e(B,{modelValue:f.value,"onUpdate:modelValue":l[3]||(l[3]=n=>f.value=n),placeholder:"Search products...","prefix-icon":a(S)},null,8,["modelValue","prefix-icon"]),e(c,{icon:a(ie),class:"filter-btn",onClick:l[4]||(l[4]=n=>h.value=!0)},null,8,["icon"])]),e(x,{gutter:20},{default:t(()=>[e(k,{span:12},{default:t(()=>[o("div",Ie,[e(v,{class:"ml-0",value:a(N)},{title:t(()=>[Le]),_:1},8,["value"])])]),_:1}),e(k,{span:12},{default:t(()=>[o("div",Re,[e(v,{class:"ml-0",value:a(V).spb},{title:t(()=>[Ke]),_:1},8,["value"])])]),_:1})]),_:1}),e(x,{class:"mt-2 mb-4",gutter:20},{default:t(()=>[e(k,{span:12,style:{display:"flex","justify-content":"center","flex-direction":"column","align-items":"center"}},{default:t(()=>[o("div",{class:"statistic-card",style:{cursor:"pointer"},onClick:j},[e(v,{value:a(R)},{title:t(()=>[Ue]),_:1},8,["value"])])]),_:1}),e(k,{span:12},{default:t(()=>[o("div",je,[e(v,{class:"ml-0",value:a(V).msk},{title:t(()=>[De]),_:1},8,["value"])])]),_:1})]),_:1}),e(J,{columns:Q,data:a(U),width:400,height:400,fixed:"",flexible:!0,"row-class-name":D},{"column-product_stock":t(({row:n})=>[o("span",null,_(n.product_stock?"Yes":"No"),1)]),_:1},8,["data"])]),_:1})]),_:1},8,["loading"])]),_:1}),e(X,{class:"affix-container"},{default:t(()=>[e(W,{bottom:100},{default:t(()=>[Qe]),_:1})]),_:1})],64)}}});const Oe=be($e,[["__scopeId","data-v-a5710e55"]]);export{Oe as default};
