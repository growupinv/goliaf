import{d as H,u as U,a as G,r as s,c as r,o as L,H as j,g as d,b,e as t,w as o,h as m,f as u,m as q,q as R,s as h,i as K,aa as O,ab as P,z as W,k as J,I as Q,O as X,_ as Y}from"./index-ff671c6d.js";/* empty css               *//* empty css               *//* empty css             *//* empty css             */import{Descriptions as _}from"./descriptions-91fab05c.js";import{_ as Z}from"./SelectMyStores.vue_vue_type_script_setup_true_lang-9c8688a8.js";import{_ as ee}from"./dbc_category_drawer.vue_vue_type_script_setup_true_lang-5a0284c3.js";import{useRecommendations as te}from"./UseRecommendations-4e9f8c96.js";import se from"./RadioRemoveKt-35560137.js";import{N as oe}from"./NavBar-fa151205.js";/* empty css              *//* empty css            *//* empty css               *//* empty css               */import"./useMyStoreStats-6b9c8885.js";const ae={style:{width:"100%","justify-content":"space-around",display:"flex","flex-direction":"column","align-items":"center"}},ne={class:"flex items-center space-x-2"},ie={key:1},le=["innerHTML"],ce={class:"dialog-footer"},re=H({__name:"index",setup(de){const e=U();G();const p=s(!1),f=s(!1),v=s(!1),i=s(!1);te(),s(10),s(0),s(!1);const l=s(0);s(!1);const w=s({time:"week",cnt:2,type:"view"}),k=c=>{w.value=c},g=s(!1),S=r(()=>e.statusRecommendations!=="dbc_received"&&e.statusRecommendations!=="GetStatisticsForNMIDs"&&e.statusRecommendations!=="SettingRecommendations"&&e.statusRecommendations!=="success"),I=r(()=>e.statusRecommendations==="dbc_received");r(()=>e.statusRecommendations==="SettingRecommendations"&&e.statusRecommendations!="success");const D=r(()=>{if(e.statusRecommendations==="success")return l.value=2,!0}),N=()=>{l.value=1,e.statusRecommendations="dbc_received",e.dbc_category_drawer=!0,e.progressRecommendation=0},C=()=>{g.value=!0,v.value=!1,l.value=1,console.log("stage3"),p.value=!0;let c=setInterval(()=>{f.value=!f.value},500);setTimeout(()=>{clearInterval(c),p.value=!1},5e3)},E=()=>{console.log("notselected"),v.value=!0},V=()=>{if(S)return _.stage1;if(I)return _.stage2;if(g)return _.stage3},B=async()=>{await e.GetMyStores(e.currentPage,50)};return L(()=>{B()}),(c,a)=>{const M=j("InfoFilled"),T=K,x=O,$=P,z=W,y=J,A=Q,F=X;return d(),b("div",ae,[t(oe,{title:"Удаление НКТ"},{right:o(()=>[m("div",ne,[t(T,{onClick:a[0]||(a[0]=n=>i.value=!0),size:"32",color:"warning"},{default:o(()=>[t(M)]),_:1})])]),_:1}),t(ee,{onNotSelected:E,onStage3:C}),t($,{class:"w80 mt6 small-text",active:l.value,"align-center":"","finish-status":"success"},{default:o(()=>[t(x,{title:"Анализ",description:""}),t(x,{title:"Удаление",description:""})]),_:1},8,["active"]),u(S)?(d(),q(z,{key:0,class:"mt-4 mb-40 w-80"},{default:o(()=>{var n;return[t(Z,{class:"mb-4"}),t(se,{disabled:((n=u(e))==null?void 0:n.selectedId)===null,"onUpdate:data":k},null,8,["disabled"])]}),_:1})):R("",!0),u(D)?(d(),b("div",ie,[t(A,{icon:"success",title:"Удаление завершено","sub-title":"Проверьте корзину на WB"},{extra:o(()=>[t(y,{class:"w50 ml-6 mr6",size:"large",onClick:N,type:"primary"},{default:o(()=>[h("Я хочу еще!) ")]),_:1})]),_:1})])):R("",!0),t(F,{modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=n=>i.value=n),title:"Памятка",width:"500","align-center":""},{footer:o(()=>[m("div",ce,[t(y,{type:"primary",onClick:a[1]||(a[1]=n=>i.value=!1)},{default:o(()=>[h(" Понятно ")]),_:1})])]),default:o(()=>[m("div",{innerHTML:V(),style:{"text-align":"left"}},null,8,le)]),_:1},8,["modelValue"])])}}});const De=Y(re,[["__scopeId","data-v-fb996189"]]);export{De as default};
